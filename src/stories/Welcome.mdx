import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Welcome - Read me first" />

# GDSReact

This component library provides everything you need to use the [GOV.UK Design System](https://design-system.service.gov.uk/) in your React projects.

**Read this guide first for setup instructions and troubleshooting.**

## Important Notice

### No Government Affiliation

This library is NOT maintained, endorsed, or supported by the UK Government. It is a community implementation of the designs and patterns created by the GOV.UK Design System team. While every care has been taken to remain faithful to the original design intentions, slight deviations may occur.

### GDS Transport Font

The [GDS Transport](https://designnotes.blog.gov.uk/2015/03/11/can-i-use-the-gov-uk-fonts/) font is **only licensed for use on gov.uk subdomains**. If you're not building for gov.uk, the library will fall back to Arial.

For more information, see:
- [GDS Transport usage guidelines](https://design-system.service.gov.uk/styles/typeface/)
- [Making your service look like GOV.UK](https://www.gov.uk/service-manual/design/making-your-service-look-like-govuk#if-your-service-isnt-on-govuk)

## Getting Started

### Requirements

- React 19+
- govuk-frontend 5+
- `sass` or `sass-embedded` (for your bundler to process GOV.UK Frontend styles)

### Installation

1. **Install govuk-frontend:**
   ```bash
   pnpm add govuk-frontend
   ```

2. **Install gds-react:**
   ```bash
   pnpm add @projectsbyif/gds-react
   ```

3. **Set up assets (if building for gov.uk):**
   Follow the [guide to import font and image assets](https://frontend.design-system.service.gov.uk/import-font-and-images-assets/). Note the path you use (we recommend `/assets`).

## Usage

### Basic Setup

The [GDSReactProvider](?path=/docs/core-gdsreactprovider--docs) component loads the required CSS, JavaScript, and fonts. **Your app must be wrapped in this component for other components to render correctly.**

```tsx
import { GDSReactProvider } from "@projectsbyif/gds-react";

function App() {
  return (
    <GDSReactProvider assets="/assets">
      <YourApplication />
    </GDSReactProvider>
  );
}
```

### Router Integration

Most React frameworks use a router for navigation, such as [Next.js Link](https://nextjs.org/docs/app/api-reference/components/link) or [React Router](https://reactrouter.com/).

Pass your router component to `GDSReactProvider` via the `linkComponent` prop. Using a function allows you to configure props based on runtime values:

```tsx
import { GDSReactProvider } from "@projectsbyif/gds-react";
import Link from 'next/link';

function App() {
  return (
    <GDSReactProvider
      assets="/assets"
      linkComponent={({ href, children, ...props }) => (
        <Link
          href={href}
          // Disable prefetching for certain links (e.g. logout)
          prefetch={href?.includes('logout') ? false : undefined}
          {...props}
        >
          {children}
        </Link>
      )}
    >
      <YourApplication />
    </GDSReactProvider>
  );
}
```

## Troubleshooting

### Components aren't styled

- Check that [govuk-frontend](https://github.com/alphagov/govuk-frontend) is installed correctly
- Ensure your app is wrapped in [GDSReactProvider](?path=/docs/core-gdsreactprovider--docs)

### Fonts aren't loading

- Verify you've followed the [asset import guide](https://frontend.design-system.service.gov.uk/import-font-and-images-assets/) and that assets are accessible at your configured URL
- Check the browser console for errors

### Links aren't working as expected

- Ensure you've set the `linkComponent` prop on `GDSReactProvider`
- If links prefetch unexpectedly, modify `linkComponent` to disable prefetching on logout links (see example above)
